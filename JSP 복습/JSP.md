### 2022.02.10
# JSP
## 1. JSP 처리과정
1. 웹 브라우저에서 웹서버로 JSP(웹 페이지)를 요청.
2. 웹 서버에서 요청한 JSP 파일을 찾아서 JSP 컨테이너로 전달.
3. JSP 컨테이너에서 JSP 파일을 서블릿 파일(.java)로 번역.
4. JSP 컨테이너에서 서블릿 파일을 클래스 파일(.class)로 컴파일.
5. JSP 컨테이너에서 컴파일된 파일을 웹 서버로 전달.
6. 웹 서버에서 클래스 파일을 로딩, 인스턴스 생성, 초기화 및 실행 후 HTML 코드 형태로 웹브라우저에 응답.
7. 웹브라우저에서 가공된 HTML 페이지를 동적으로 처리 후 출력.

## 2. JSP 생명주기
1. 생성된 객체가 없는 경우  
JSP 요청 -> JSP 파일 확인 -> 번역 -> 컴파일 -> 로딩 -> 인스턴스 생성 -> 초기화(jspInit()) -> 실행(jspService()) -> 소멸(jspDestroy())  
2. 생성된 객체가 있는 경우
JSP 요청 -> 요청한 JSP와 일치하는 객체 확인 -> 실행 -> 소멸  

## 3. JSP - 스크립트 태그
- HTML 코드에 Java 코드를 넣어 프로그램이 수행하는 기능을 구현하는 태그.
- JSP 코드 내 사용 지양.(태그 사용만 권장)
1. 선언문 - <%! 자바코드 %>
    - 태그 내부 자바 코드가 번역 시 class 멤버 변수 위치에 복사됨.
    - 변수 선언 시, 멤버 변수로 선언되어 전역에서 사용 가능.
    - 메서드 정의 가능.
2. 스크립틀릿 - <%@ 자바코드 %>
    - 태그 내부 코드가 번역 시 jspService() 메서드 내부에 복사됨.
    - 변수 선언 시, jspService() 메서드 내부 지역 변수로 선언되어 메서드 내부에서만 사용 가능하다.
    - 메서드 정의 불가하나, 호출은 가능하다.
3. 표현문 - <%= 변수명, 메서드 호출 %>
    - 태그 내부 코드가 번역 시 jspService() 메서드 내부에 복사됨.
    - 내부적으로 out.print()로 출력하여, 출력 전용 태그이다.

## 4. JSP - 디렉티브 태그
- JSP 페이지 관련된 정보가 담긴 태그.
- 디렉티브 태그는 JSP(웹 페이지) 수정 후 재컴파일 시에만 수행되는 태그이므로, 개별 HTML 응답에 영향을 미치지 않음.
1. page - <%@ page %>
    - JSP 웹 페이지에 대한 설정.
    - page 태그 속성
        1. language : java(기본값) / 거의 변경 X
        2. contentType : 매 .jsp 파일 생성 시마다 상단에 작성하는 속성. 
            - ex) <%@ page contentType="text/html; charset=utf-8" %>
        3. pageEncoding : 현재 JSP 페이지의 문자 인코딩을 위한 문자셋 설정.
        4. import : Java 내 다른 패키지에 있는 자원에 접근 시 사용하는 속성. 자주 사용한다.
        5. buffer : 현재 JSP 페이지의 출력 버퍼 크기 설정.
            - ex) <%@ page buffer="none" | "32KB" %>
            - 웹페이지를 출력하는 것은 출력 스트림이다. 스트림은 기본적으로 바이트 기반으로 1바이트씩 수행하므로,
              버퍼를 사용하여 처리 효율을 높여준다.
        6. autoFlush : 자동으로 출력 버퍼를 비우는 것을 제어, true(기본값) / 거의 변경 X
        7. isThreadSafe : true(기본값)
        8. info : JSP 페이지에 대한 설명.
        9. errorpage : JSP 페이지에 문제 발생 시 이동할 errorPage 설정.
        10. isErrorPage : 이동한 페이지가 에러 페이지인지 여부를 설정.
            - false(기본값) true 시 내장 객체중 exception이 변수로 추가되어 사용 가능.
        11. isELIgnored : 현재 JSP 페이지 상에 있는 EL 표현식을 지원할 것인지 여부 설정
            - false(기본값, EL식 사용) / 거의 변경 X
2. include - <%@ include %>
    - JSP 페이지의 특정 영역에 다른 문서를 포함할 때 사용하는 태그.
    - 서블릿으로 번역 시에 추가.
    - html 문서를 header와 footer로 나누어도 include 태그로 추가시 각 내용이 합쳐서 JSP 페이지 상에 나온다.
    - file 속성 ex) <%@ include file="상대경로" %>
3. taglib - <%@ taglib %>
    - 태그 라이브러리 연동 시 주로 사용.
    - JSP 페이지에서 사용할 태그 라이브러리를 설정함.
        - MVN repository 사이트에서 JSTL(1.2 -> .jar) 다운로드
        - WebContent/WEB-INF/lib/ 태그 디렉터리의 위치에 jstl.jar 라이브러리 파일을 복사.
    - uri 속성 : 사용자가 정의한 태그의 설정 정보를 가진 경로 주소.
        - JSP 컨테이너에 사용자가 정의한 태그 라이브러리의 위치를 알려준다.
    - prefix 속성 : uri에 설정한 주소를 식별하기 위한 고유 이름.
        - 해당 JSP 페이지 내에서 uri 속성값을 그대로 사용하려면 복잡하므로 대신 식별하기위한 속성.

## 5. JSP - 액션 태그

## 6. JSP - 내장 객체

## 7. JSP - JDBC
