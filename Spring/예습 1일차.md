# 스프링 프레임워크
- 스프링은 매우 방대한 기능을 제공하고 있어서 한마디로 정의하기가 힘들다.
- 흔히 스프링은 스프링 프레임워크를 의미하는데 주요 특징은 아래와 같다
    - 의존 주입(Dependency Inject : DI) 지원
    - AOP(Aspect-Oriented Programing) 지원
    - MVC 웹 프레임워크 제공
    - JDBC, JAP 연동, 선언적 트랜잭션 처리 등 DB 연동 지원
- 자바기반 어플리케이션을 개발하는데 필요한 다양한 기능을 제공한다.

## 스프링은 객체 컨테이너
- AnnotationConfigApplicationContext 클래스가 핵심.
- 스프링의 핵심 기능은 객체를 생성하고 초기화 하는것이다. 이와 관련된 기능은 ApplicationContext라는 인터페이스에 정의되어 있다.
- AnnotationConfigApplicationContext 는 위 인터페이스를 구현한 클래스 중 하나이다. 위 클래스는 자바 클래스에서 정보를 읽어와 객체 생성과 초기화를 수행한다.

### BeanFactory 가장 상위 인터페이스
- 객체 생성과 검색에 대한 기능을 정의.
- getBean() : 생성된 객체를 검색.

### ApplicationContext 인터페이스
- 메세지, 프로필/환경 변수 등을 처리할 수 있는 기능을 추가로 정의한다.

### 각 클래스의 차이점
- AnnotationConfigApplicationContext : 자바 애노테이션을 이용한 클래스로부터 객체 설정 정보를 가져온다.
- GenericXmlApplicationContext : XML로 부터 객체 정보를 가져온다.
- GenericGroovyApplicationContext : 그루비 코드를 이용해 설정 정보를 가져온다.

- 어떤 구현 클래스를 사용하단, 각 구현 클래스는 설정 정보로부터 빈(Bean)이라고 불리는 객체를 생성하고 그 객체를 내부에 보관한다. 그리고 getBean() 메서드를 실행하면 해당하는 빈 객체를 제공한다. 예를 들어 앞서 작성한 Main.java 코드를 보면 다음과 같이 설정 정보를 이용해서 빈 객체 를 생성하고 해당 빈 객체를 제공하는 것을알 수 있다.

```
1. 설정 정보를 이용해서 빈 객체 생성
AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext();

2. 빈 객체를 제공한다.
Greeter g = ctx.getBean("greeter", Greeter.class);
```

- ApplicationContext 또는 BeanFactory는 빈 객체의 생성, 초기화, 보관 ,제거 등을 관리하고 있어 컨테이너라고도 부르며 실제 강의에서도 ApplicationContext나 BeanFactory 등을 스프링 컨테이너라고 표현할 것이다.

### 싱글톤 객체
- 별도 설정을 하지 않을 경우 스프링은 한개의 빈 객체만을 생성하며, 이 때 빈 객체는 싱글톤 범위를 갖는다고 표현한다. 스프링은 기본적으로 한개의 @Bean 애노테이션에 대해 한개의 빈 객체를 생성한다.

## 스프링 DI(Dependency Injection - 의존 주입)
- 의존이란?
    - DI는 의존 주입의 약자이다. 의존은 객체 간의 의존을 의미한다.
    - 한 클래스가 어떠한 기능을 위해서 다른 클래스의 메서드를 실행 할 때 이를 의존한다고 한다.
    - 의존은 변경에 의해 영향을 받는 관계를 의미한다. 즉, 예를 들어 A 클래스에 의존하는 B클래스 내부에 A 객체의 메서드가 호출된 코드가 있을 경우, 그 결과값은 A 클래스 내부 메서드 정의 내용이 변경되면 변경된다.

### 의존 주입 방법
- 의존 대상의 객체를 직접 생성.
    - B클래스 객체 생성식 내부에 A클래스 객체 생성식을 호출하여 직접 생성하는 방법.
        - 이는 유지보수 관점에서 문제를 유발할 수 있다.

- DI 서비스 로케이터 사용.
    - DI는 의존하는 객체를 직접 생성하는 대신에 의존 객체를 전달 받는 방식을 사용한다.
    - 생성자를 통해 의존 객체를 매개변수로 주입 받아 멤버변수에 참조값을 대입한다.(의존 주입)

- DI와 의존 객체 변경의 유연함
    - 의존 객체를 직접 생성하는 방식은 필드나 생성자에서 new 연산자를 이용해서 객체를 생성한다. 
    - DI를 사용하면 의존 객체를 사용하는 클래스가 여러 곳이어도 변경할 곳은 의존 주입 대상이 되는 객체를 생성하는 코드 한곳 뿐이므로 유지보수에 유리하다.

## 객체 조립기
- 의존 대상 객체를 생성하고 주입하는 방법이 나쁘지는 않지만 이 방식 보다 더 나은 방식은 객체를 생성하고 의존 객체를 주입해 주는 클래스는 따로 작성하는 것이다. 의 존객체를 주입한다는 것은 서로 다른 두 객체를 조립한다고 생각할 수 있으며, 이런의미에서 위 클래스를 조립기라고도 표현한다.(캡슐화?)
- 정리하면 조립기는 객체를 생성하고 의존 객체를 주입하는 기능을 제공한다. 또한 특정 객체가 필요한 곳에 객체를 제공한다.